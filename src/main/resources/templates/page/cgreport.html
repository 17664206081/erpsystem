<!DOCTYPE html>
<html lang="ZH-CN" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <script th:src="@{/js/echarts.min.js}"></script>
</head>
<body>


<div id="chartmain" style="width:900px; height:450px;"></div>
<script type="text/javascript" th:src="@{/layui/layui.js}"></script>
<script>
    layui.use(['jquery'], function () {
        $ = layui.jquery;
        //初始化echarts实例
        var myChart = echarts.init(document.getElementById('chartmain'));

        function accMul(num1,num2){
            var m=0,s1=num1.toString(),s2=num2.toString();
            try{m+=s1.split(".")[1].length}catch(e){};
            try{m+=s2.split(".")[1].length}catch(e){};
            return Number(s1.replace(".",""))*Number(s2.replace(".",""))/Math.pow(10,m);
        }

        //加载数据
        $.get("/report/cg?storeId=", function (data) {
            var x = data.map(function (item) {
                return item.buseDate
            });

            var dd = data.map(function (item) {
                return item.total
            });

            //使用制定的配置项和数据显示图表
            myChart.setOption({
                tooltip:{},
                legend:{
                    data:['营业额']
                },
                xAxis:{
                    data: x
                },
                yAxis:{

                },
                series:[{
                    name:'营业额',
                    type:'line',
                    data:dd
                }]
            })
        });

    });
</script>
</body>
</html>